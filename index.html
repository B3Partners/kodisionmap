<!doctype html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="ol3/ol.css" type="text/css">
    <style>
      #map {
        height: 80%;
        width: 80%;
      }
    </style>
    <title>Kodision Map Test</title>
    <script src="b3pmap.js" type="text/javascript"></script>
  </head>
  <body>
    <h1>Kodision Map</h1>
    <div id="map"></div>
    <script type="text/javascript">
     /* var config = { 
          "input": { 
              "wms_layers": [ 
                  { "name":'NWB wegen', "url" : "http://geodata.nationaalgeoregister.nl/nwbwegen/wms", layers: "wegvakken"},
                  { "name":'Nationale parken', "url" : "http://geodata.nationaalgeoregister.nl/nationaleparken/wms", "layers" : "nationaleparken"}
              ], 
              "wfs_layers": [ 
                  
                  //{ "name" : "NWB wegen wfs", 'url' : "http://geodata.nationaalgeoregister.nl/nwbwegen/wfs", layers: "wegvakken"}
                //  { "name" : "NWB wegen wfs", 'url' : "http://192.168.1.18:8084/geoserver/test/ows", layers: "test:gemeente"}
               //   { "name" : "Flamingo geoserver", 'url' : "http://flamingo4.b3p.nl/geoserver/ows", layers:"cbs:buurten"}
              ], 
              "modus": "select",// "select/draw (selecteren van object in kaart of tekenen van geometrie", 
              "draw_modus":  "Polygon", 
                    "select_wfs_layer": "naam van wfs layer", 
              "initial_zoom": 6, // "zoomfactor van de kaart bij opstart", 
              "geolocator_url": "http://192.168.1.18/coords",//"url naar service waar coordinaten kunnen worden opgevraagd", 
              "format_geolocator_result": "coordx,coordy", 
              "tools": [ 
                  {"tool_id": "MousePosition"}, 
                  {"tool_id": "ScaleLine"}, 
                  {"tool_id": "Zoom"}, 
                //  {"tool_id": "ZoomSlider"}
              ] 
          }, 
          "output": { 
              "image": "base 64 string van plaatje", 
              "surface": "berekend oppervlak (0 indien punt)", 
              "wkt": "wkt representatie van getekend object", 
              "gml": "gml representatie van getekend object", 
              "object-ids": [ 
                  {"object-id": "id 1"}, 
                  {"object-id": "id 2"}, 
                  {"object-id": "id 3"} 
              ] 
              } 
      };*/
      var config = {
        "input": { 
          "map_id" : "map",
          "wms_layers": [ 
            { "name":'NWB wegen', "url" : "http://geodata.nationaalgeoregister.nl/nwbwegen/wms", layers: "wegvakken"},
            { "name":'Nationale parken', "url" : "http://geodata.nationaalgeoregister.nl/nationaleparken/wms", "layers" : "nationaleparken"}
          ], 
          "wfs_layers": [
            { "name" : "NWB wegen wfs", 'url' : "http://geodata.nationaalgeoregister.nl/nwbwegen/wfs"}
          ], 
          "modus": "draw",// "select/draw (selecteren van object in kaart of tekenen van geometrie", 
          "draw_modus":  "Polygon", 
          "select_wfs_layer": "naam van wfs layer", 
          "initial_zoom": 6, // "zoomfactor van de kaart bij opstart", 
          "geolocator_url": "http://192.168.1.18/coords", 
          "format_geolocator_result": "coordx,coordy", 
          "tools": [
            {"tool_id": "MousePosition"}, 
            {"tool_id": "ScaleLine"}, 
            //     {"tool_id": "Zoom"}, 
            {"tool_id": "ZoomSlider"}
          ] 
        }
      };

      var bm = new B3pmap();
      bm.init(config);
    </script>

          <a id="export-png" class="btn" download="map.png"><i class="icon-download"></i> Export PNG</a>
          <canvas id="exportDest"/>
  </body>
</html>